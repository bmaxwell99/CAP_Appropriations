filter(Year == 2012) %>%
View()
analysis_set %>%
filter(Year == 2012) %>%
n_distinct()
analysis_set %>%
filter(Year == 2012) %>%
nrow()
analysis_set %>%
filter(Year == 2013) %>%
nrow()
analysis_set %>%
filter(Year == 2013) %>%
n_distinct()
analysis_set %>%
filter(Year == 2013) %>%
n_distinct(State)
analysis_set %>%
filter(Year == 2013) %>%
View()
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
summarise(n_distinct(State))
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
summarise(n = n_distinct(State)) %>%
arrange(n)
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
summarise(n = n_distinct(State)) %>%
arrange(desc(n))
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
summarise(n = n_distinct()) %>%
arrange(desc(n))
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
n_distinct()
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
nrow()
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
n()
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
n(State)
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
summarise (n = n())
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
summarise (n = n()) %>%
arrange(n)
analysis_set %>%
filter(Year == 2013) %>%
group_by(State) %>%
summarise (n = n()) %>%
arrange(desc(n))
analysis_set %>%
group_by(State) %>%
summarise (n = n()) %>%
arrange(desc(n))
analysis_set %>% filter(State == 'New Mexico')
analysis_set %>% filter(State == 'Conneticut')
analysis_set %>% filter(State == 'Connecticut')
analysis_set %>% filter(State == 'District of Columbia')
analysis_set %>% filter(State == 'Nevada')
analysis_set %>%
group_by(State) %>%
summarise (n = n()) %>%
arrange(desc(n))
analysis_set %>% filter(State == 'New York')
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
select(-Status, -Other.1)
a_individuals_served <-
individual_cases %>%
select(Year, State, Name, Total.individuals.served, Individuals.Multiple.Cases)
View(a_individuals_served)
c_closing_strategy <-
individual_cases %>%
select(Year, State, Name, Short.Term.Technical.Assistance = Information.referral..pre.2014..or.Short.Term.Technical.Assistance..2015..,
Investigation.Monitoring = Advisory.interpretational..pre.2014..or.Investigation.Monitoring..2015.., Negotiation, Alternative.dispute.resolution,
Administrative.informal.review, Formal.appeal.fair.hearing, Legal.remedy)
View(c_closing_strategy)
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
select(-Status, -Other.1) %>%
rename(Investigation.Monitoring = Advisory.interpretational..pre.2014..or.Investigation.Monitoring..2015..)
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
select(-Status, -Other.1) %>%
rename(Investigation.Monitoring = Advisory.interpretational..pre.2014..or.Investigation.Monitoring..2015..,
Short.Term.Technical.Assistance = Information.referral..pre.2014..or.Short.Term.Technical.Assistance..2015..,
Resolved.Out.Favor = Appeals.unsuccessful..to.2014..or.Issue.not.resolved.in.clients.favor..2015..,
lack.of.resources = CAP.unable.to.take.case.due.to.lack.of.resources
)
c_closing_strategy <-
individual_cases %>%
select(Year, State, Name, Short.Term.Technical.Assistance, Investigation.Monitoring, Negotiation, Alternative.dispute.resolution,
Administrative.informal.review, Formal.appeal.fair.hearing, Legal.remedy)
d_reason_closed <-
individual_cases %>%
select(Year, State, Name, All.issues.resolved.in.individuals.favor, Some.issues.resolved.in.individuals.favor, CAP.determines.VR.agency.position.decision.appropriate,
Individuals.case.lacks.legal.merit., Resolved.Out.Favor,
Individual.refused.to.cooperate.with.CAP, lack.of.resources, Conflict.Interest)
a_individuals_served <-
individual_cases %>%
select(Year, State, Name, Total.individuals.served, Individuals.Multiple.Cases)
b_problem_areas <-
individual_cases %>%
select(Year, State, Name, Individual.requests.information, Communication.problems.between.individual.and.counselor,
Conflict.about.services.to.be.provided, Related.to.application.eligibility.process, Related.to.assignment.to.order.of.selection.priority.category,
Related.to.IPE.development.implementation, Related.to.independent.living.services, Non.Rehabilitation.Act.related, Other.Rehabilitation.Act.related.problems
)
c_closing_strategy <-
individual_cases %>%
select(Year, State, Name, Short.Term.Technical.Assistance, Investigation.Monitoring, Negotiation, Alternative.dispute.resolution,
Administrative.informal.review, Formal.appeal.fair.hearing, Legal.remedy)
d_reason_closed <-
individual_cases %>%
select(Year, State, Name, All.issues.resolved.in.individuals.favor, Some.issues.resolved.in.individuals.favor, CAP.determines.VR.agency.position.decision.appropriate,
Individuals.case.lacks.legal.merit., Resolved.Out.Favor,
Individual.refused.to.cooperate.with.CAP, lack.of.resources, Conflict.Interest)
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
select(-Status, -Other.1) %>%
mutate(ID = factor(paste(Year, State, Name, sep = ', ')))
library(dplyr)
library(magrittr)
library(tidyr)
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
select(-Status, -Other.1) %>%
mutate(ID = factor(paste(Year, State, Name, sep = ', ')))
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
select(-Status, -Other.1) %>%
mutate(ID = factor(paste(Year, State, Name, sep = ', '))) %>%
rename(Investigation.Monitoring = Advisory.interpretational..pre.2014..or.Investigation.Monitoring..2015..,
Short.Term.Technical.Assistance = Information.referral..pre.2014..or.Short.Term.Technical.Assistance..2015..,
Resolved.Out.Favor = Appeals.unsuccessful..to.2014..or.Issue.not.resolved.in.clients.favor..2015..,
lack.of.resources = CAP.unable.to.take.case.due.to.lack.of.resources
)
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
select(-Status, -Other.1) %>%
mutate(ID = factor(paste(Year, State, Name, sep = ', '))) %>%
rename(Investigation.Monitoring = Advisory.interpretational..pre.2014..or.Investigation.Monitoring..2015..,
Short.Term.Technical.Assistance = Information.referral..pre.2014..or.Short.Term.Technical.Assistance..2015..,
Resolved.Out.Favor = Appeals.unsuccessful..to.2014..or.Issue.not.resolved.in.clients.favor..2015..,
lack.of.resources = CAP.unable.to.take.case.due.to.lack.of.resources
)
a_individuals_served <-
individual_cases %>%
select(Year, State, Name, Total.individuals.served, Individuals.Multiple.Cases, ID)
b_problem_areas <-
individual_cases %>%
select(Year, State, Name, Individual.requests.information, Communication.problems.between.individual.and.counselor,
Conflict.about.services.to.be.provided, Related.to.application.eligibility.process, Related.to.assignment.to.order.of.selection.priority.category,
Related.to.IPE.development.implementation, Related.to.independent.living.services, Non.Rehabilitation.Act.related, Other.Rehabilitation.Act.related.problems,
ID
)
c_closing_strategy <-
individual_cases %>%
select(Year, State, Name, Short.Term.Technical.Assistance, Investigation.Monitoring, Negotiation, Alternative.dispute.resolution,
Administrative.informal.review, Formal.appeal.fair.hearing, Legal.remedy, ID)
d_reason_closed <-
individual_cases %>%
select(Year, State, Name, All.issues.resolved.in.individuals.favor, Some.issues.resolved.in.individuals.favor, CAP.determines.VR.agency.position.decision.appropriate,
Individuals.case.lacks.legal.merit., Resolved.Out.Favor,
Individual.refused.to.cooperate.with.CAP, lack.of.resources, Conflict.Interest, ID)
a_individuals_served <-
individual_cases %>%
select(Year, State, Name, Total.individuals.served, Individuals.Multiple.Cases, ID)
b_problem_areas <-
individual_cases %>%
select(Year, State, Name, Individual.requests.information, Communication.problems.between.individual.and.counselor,
Conflict.about.services.to.be.provided, Related.to.application.eligibility.process, Related.to.assignment.to.order.of.selection.priority.category,
Related.to.IPE.development.implementation, Related.to.independent.living.services, Non.Rehabilitation.Act.related, Other.Rehabilitation.Act.related.problems,
ID
)
c_closing_strategy <-
individual_cases %>%
select(Year, State, Name, Short.Term.Technical.Assistance, Investigation.Monitoring, Negotiation, Alternative.dispute.resolution,
Administrative.informal.review, Formal.appeal.fair.hearing, Legal.remedy, ID)
View(a_individuals_served)
library(dplyr)
library(magrittr)
library(tidyr)
library(stringr)
library(ggplot2)
#sets WD to git repo folder, change to run on different computer
setwd("C:/Users/dark_/Documents/NDRN/CAP_Appropriations")
source('Clean_join_data.r')
bucket_size <- 10000
#creates a sequence of the given data, only created for code concision
sequence <- function(df) {
r <- seq(min(df$dollar_2018), max(df$dollar_2018), bucket_size )
return(r)
}
format_money <- function(x){
r <- paste0("$", formatC(as.numeric(x), format="f", digits=0, big.mark=","))
return(r)
}
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5)) %>%
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, dol_per_pop_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
#plots against dollars recieved per population
ggplot(data = data_2018 ) +
aes(x = reorder(State, -dol_per_pop_18)  ,
y = dol_per_pop_18 ,
fill =  funding_cat
) +
geom_col() +
coord_flip() +
labs(x = "States",
y = "Dollars of Funding Received per Population in 2018**",
fill = '*Approx Funding Received in 2018',
title = 'Visual Exploration for 2018 Comparable States(CAP)',
subtitle = 'The States that are similar in terms of bar length(calculated by number of dollars received per person)
may be comparable to each other, despite the differences in funding they recieve(shown via color) ',
caption = '*Funding amounts drawn from RSA CAP appropriations
**Estimated Population drawn from Census Bureau'
) +
scale_fill_hue(h = c(0, 270))
library(dplyr)
library(magrittr)
library(tidyr)
library(stringr)
library(ggplot2)
#sets WD to git repo folder, change to run on different computer
setwd("C:/Users/dark_/Documents/NDRN/CAP_Appropriations")
source('Clean_join_data.r')
bucket_size <- 10000
#creates a sequence of the given data, only created for code concision
sequence <- function(df) {
r <- seq(min(df$dollar_2018), max(df$dollar_2018), bucket_size )
return(r)
}
format_money <- function(x){
r <- paste0("$", formatC(as.numeric(x), format="f", digits=0, big.mark=","))
return(r)
}
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5)) %>%
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, dol_per_pop_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
#plots against dollars recieved per population
ggplot(data = data_2018 ) +
aes(x = reorder(State, -dol_per_pop_18)  ,
y = dol_per_pop_18 ,
fill =  funding_cat
) +
geom_col() +
coord_flip() +
labs(x = "States",
y = "Dollars of Funding Received per Population in 2018**",
fill = '*Approx Funding Received in 2018',
title = 'Visual Exploration for 2018 Comparable States(CAP)',
subtitle = 'The States that are similar in terms of bar length(calculated by number of dollars received per person)
may be comparable to each other, despite the differences in funding they recieve(shown via color) ',
caption = '*Funding amounts drawn from RSA CAP appropriations
**Estimated Population drawn from Census Bureau'
) +
scale_fill_hue(h = c(0, 270))
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5)) %>%
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, dol_per_pop_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5)) %>%
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, dol_per_pop_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5)) %>%
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, dol_per_pop_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5))
library(dplyr)
library(magrittr)
library(tidyr)
library(stringr)
library(ggplot2)
#sets WD to git repo folder, change to run on different computer
setwd("C:/Users/dark_/Documents/NDRN/CAP_Appropriations")
source('Clean_join_data.r')
bucket_size <- 10000
#creates a sequence of the given data, only created for code concision
sequence <- function(df) {
r <- seq(min(df$dollar_2018), max(df$dollar_2018), bucket_size )
return(r)
}
format_money <- function(x){
r <- paste0("$", formatC(as.numeric(x), format="f", digits=0, big.mark=","))
return(r)
}
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5))
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, dol_per_pop_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
#plots against dollars recieved per population
ggplot(data = data_2018 ) +
aes(x = reorder(State, -dol_per_pop_18)  ,
y = dol_per_pop_18 ,
fill =  funding_cat
) +
geom_col() +
coord_flip() +
labs(x = "States",
y = "Dollars of Funding Received per Population in 2018**",
fill = '*Approx Funding Received in 2018',
title = 'Visual Exploration for 2018 Comparable States(CAP)',
subtitle = 'The States that are similar in terms of bar length(calculated by number of dollars received per person)
may be comparable to each other, despite the differences in funding they recieve(shown via color) ',
caption = '*Funding amounts drawn from RSA CAP appropriations
**Estimated Population drawn from Census Bureau'
) +
scale_fill_hue(h = c(0, 270))
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5))
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, pop_per_dol_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
#plots against dollars recieved per population
ggplot(data = data_2018 ) +
aes(x = reorder(State, -pop_per_dol_18)  ,
y = pop_per_dol_18 ,
fill =  funding_cat
) +
geom_col() +
coord_flip() +
labs(x = "States",
y = "Dollars of Funding Received per Population in 2018**",
fill = '*Approx Funding Received in 2018',
title = 'Visual Exploration for 2018 Comparable States(CAP)',
subtitle = 'The States that are similar in terms of bar length(calculated by number of dollars received per person)
may be comparable to each other, despite the differences in funding they recieve(shown via color) ',
caption = '*Funding amounts drawn from RSA CAP appropriations
**Estimated Population drawn from Census Bureau'
) +
scale_fill_hue(h = c(0, 270))
source('Clean_join_data.r')
View(j_data)
library(dplyr)
library(magrittr)
library(tidyr)
library(stringr)
library(ggplot2)
#sets WD to git repo folder, change to run on different computer
setwd("C:/Users/dark_/Documents/NDRN/CAP_Appropriations")
source('Clean_join_data.r')
bucket_size <- 10000
#creates a sequence of the given data, only created for code concision
sequence <- function(df) {
r <- seq(min(df$dollar_2018), max(df$dollar_2018), bucket_size )
return(r)
}
format_money <- function(x){
r <- paste0("$", formatC(as.numeric(x), format="f", digits=0, big.mark=","))
return(r)
}
j_data <-
j_data %>%
mutate(dol_per_pop_18 = round(dollar_2018 / pop_18, digits = 5)) %>%
mutate(pop_per_dol_18 = round(pop_18 / dollar_2018, digits = 5))
data_2018<-
j_data %>%
select(State, dollar_2018, pop_18, dol_per_pop_18) %>%
#attempt to bucket data
mutate(funding_cat = cut_interval(dollar_2018,
length = bucket_size,
labels = j_data %>%
sequence() %>%
format_money()
))
#plots against dollars recieved per population
ggplot(data = data_2018 ) +
aes(x = reorder(State, -dol_per_pop_18)  ,
y = dol_per_pop_18 ,
fill =  funding_cat
) +
geom_col() +
coord_flip() +
labs(x = "States",
y = "Dollars of Funding Received per Population in 2018**",
fill = '*Approx Funding Received in 2018',
title = 'Visual Exploration for 2018 Comparable States(CAP)',
subtitle = 'The States that are similar in terms of bar length(calculated by number of dollars received per person)
may be comparable to each other, despite the differences in funding they recieve(shown via color) ',
caption = '*Funding amounts drawn from RSA CAP appropriations
**Estimated Population drawn from Census Bureau'
) +
scale_fill_hue(h = c(0, 270))
individual_cases <-
read.csv('Individual Cases CAP.csv', stringsAsFactors = FALSE) %>%
rename(Year = ï..Fiscal.Year) %>%
mutate(ID = factor(paste(Year, State, Name, sep = ', '))) %>%
rename(agency_name = Name,
#renaming section A, related to individual counts
a_total_indiv = Total.individuals.served,
a_multiple_cases = Individuals.Multiple.Cases,
#renaming section B, related to problem areas
b_info_request = Individual.requests.information,
b_comm_prob = Communication.problems.between.individual.and.counselor,
b_services_conflict = Conflict.about.services.to.be.provided,
b_app_process = Related.to.application.eligibility.process,
b_priority_category = Related.to.assignment.to.order.of.selection.priority.category,
b_IPE = Related.to.IPE.development.implementation,
b_living_services = Related.to.independent.living.services,
b_non_rehabil_act = Non.Rehabilitation.Act.related,
b_rehabil_act = Other.Rehabilitation.Act.related.problems,
#
Investigation.Monitoring = Advisory.interpretational..pre.2014..or.Investigation.Monitoring..2015..,
Short.Term.Technical.Assistance = Information.referral..pre.2014..or.Short.Term.Technical.Assistance..2015..,
Resolved.Out.Favor = Appeals.unsuccessful..to.2014..or.Issue.not.resolved.in.clients.favor..2015..,
lack.of.resources = CAP.unable.to.take.case.due.to.lack.of.resources
) %>%
select(-Status, -Other.1, -Individual.still.being.served.as.of.September.30,
-Individuals.who.are.still.being.served.as.of.October.1)
View(individual_cases)
